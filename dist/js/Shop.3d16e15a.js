(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Shop"],{5168:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("section",{staticClass:"shop"},[a("nav",{on:{click:function(s){return t.GoBack()}}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("header",[a("img",{staticClass:"img1",attrs:{src:"//elm.cangdu.org/img/"+t.shopimg,alt:""}}),a("section",{staticClass:"head"},[a("a",{attrs:{href:""}},[a("section",{staticClass:"cc1"},[a("img",{staticClass:"img2",attrs:{src:"//elm.cangdu.org/img/"+t.shopimg,alt:""}})]),a("section",{staticClass:"cc2"},[a("h4",[t._v(t._s(t.header.name))]),a("p",{staticClass:"p1"},[t._v(t._s(t.header.category))]),a("p",{staticClass:"p2"},[t._v(t._s(t.header.address))])]),a("section",{staticClass:"cc3"},[a("van-icon",{attrs:{name:"arrow"}})],1)])])]),t._m(0),a("section",{staticClass:"nav"},[a("section",{staticClass:"content-goods"},[a("section",{staticClass:"nav-left"},[a("ul",t._l(t.goods_left,function(s,i){return a("li",{key:i,class:t.changeColor==i?"active":"",on:{click:function(s){return t.changeCss(i)}}},[t._v(t._s(s.name))])}),0)]),a("section",{ref:"navright",staticClass:"nav-right"},[a("ul",t._l(t.goods_left,function(s,i){return a("li",{key:i,staticClass:"li"},[a("header",[a("section",[a("strong",[t._v(t._s(s.name))]),a("span",[t._v(t._s(s.description))])]),a("span",[t._v("...")])]),t._l(s.foods,function(s,i){return a("section",{key:i,staticClass:"shu"},[a("div",[a("section",{staticClass:"ss1"},[a("img",{attrs:{src:"//elm.cangdu.org/img/"+s.image_path,alt:""}})]),a("section",{staticClass:"ss2"},[a("h3",[a("strong",[t._v(t._s(s.name))])]),a("p",{staticClass:"p1"},[t._v(t._s(s.description))]),a("p",{staticClass:"p2"},[t._v(t._s(s.tips))])])]),a("footer",{staticClass:"shu-di"},[t._m(1,!0),a("section",{staticClass:"a2"},[a("section",{staticClass:"jj",on:{click:function(a){return t.addQQ(a,s.specfoods[0])}}},[a("van-icon",{attrs:{name:"add"}}),a("div")],1)])])])})],2)}),0)])]),a("section",{staticClass:"addGwc"},[a("section",{staticClass:"gwc-left",on:{click:function(s){return t.tan()}}},[a("div",{staticClass:"gwcImg sc",attrs:{id:t.sum>0?"aaa":""}},[t.sum>0?a("span",[t._v(t._s(t.sum))]):t._e(),a("van-icon",{attrs:{name:"shopping-cart"}})],1),a("div",{staticClass:"gwcZi"},[a("div",{staticClass:"yy"},[t._v("￥"+t._s(t.jiage))]),a("div",{staticClass:"ss"},[t._v("配送费￥5")])])]),a("router-link",{attrs:{to:"/order"}},[a("section",{staticClass:"gwc-right"},[a("p",[t._v("结算")])])])],1),t.show?a("section",{staticClass:"listGwc"},[a("header",[a("h4",[t._v("\n                        购物车\n                    ")]),a("div",{on:{click:function(s){return t.delGwc()}}},[a("van-icon",{attrs:{name:"delete"}}),a("span",[t._v("清空")])],1)]),a("section",{staticClass:"sssss"},[a("ul",{staticClass:"uuu"},t._l(t.gwc,function(s,i){return a("li",{key:i},[a("div",{staticClass:"dd1"},[a("p",[t._v(t._s(s.name))])]),a("div",{staticClass:"dd2"},[a("span",{staticClass:"ss1"},[t._v("￥")]),a("span",{staticClass:"ss2"},[t._v(t._s(s.num*s.price))])]),a("section",{staticClass:"dd3"},[a("span",{staticClass:"ss1"},[a("van-icon",{attrs:{name:"close"},on:{click:function(a){return t.jian(s.item_id)}}})],1),a("span",{staticClass:"ss2"},[t._v(t._s(s.num))]),a("span",{staticClass:"ss3"},[a("van-icon",{attrs:{name:"add-o"},on:{click:function(a){return t.jia(s.item_id)}}})],1)])])}),0)])]):t._e(),t.zg?a("div",{staticClass:"zg",on:{click:function(s){return t.tan()}}}):t._e()])])])},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"goods"},[a("div",[a("span",[t._v("商品")])]),a("div",[a("span",[t._v("评价")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"a1"},[a("span",{staticClass:"span1"},[t._v("￥")]),a("span",{staticClass:"span2"},[t._v("20")])])}];function e(t){var s=document.createElement("div");s.className="ballFather",document.body.appendChild(s);var a=document.createElement("div");a.className="ballSon",s.appendChild(a);var i=t.clientY,n=t.clientX;s.style.left=n-45+"px",s.style.top=i-10+"px";var e=window.innerHeight-i;s.style.webkitTransform="translateY(".concat(e,"px)"),s.style.transform="translateY(".concat(e,"px)"),a.style.webkitTransform="translateX(-".concat(n+90,"px)"),a.style.transform="translateX(-".concat(n-90,"px)"),setTimeout(function(){document.querySelector(".sc").classList.add("animation"),setTimeout(function(){document.querySelector(".sc").classList.remove("animation")},400)},500),setTimeout(function(){document.body.removeChild(s)},1e3)}a("a002");var c={data:function(){return{shopimg:"",goods_left:[],header:[],changeColor:0,goodsColor:!0,countHight:[],show:!1,zg:!1}},methods:{GoBack:function(){this.$router.go(-1)},tan:function(){this.show=!this.show,1==this.show?this.zg=!0:this.zg=!1},changeCss:function(t){this.changeColor=t,this.$refs.navright.scrollTop=this.countHight[t]},_countHight:function(){var t=this.$refs.navright.getElementsByClassName("li");console.log(t);var s=0;for(var a in this.countHight.push(s),t)s+=t[a].clientHeight,this.countHight.push(s);console.log(this.countHight)},_scrollHight:function(){for(var t=this.$refs.navright.scrollTop,s=0;s<this.countHight.length;s++){var a=this.countHight[s],i=this.countHight[s+1];t>=a&&t<i&&(this.changeColor=s)}},addQQ:function(t,s){this.$store.commit("add",s),e(t)},jian:function(t){this.$store.commit("jian",t)},jia:function(t){this.$store.commit("jia",t)},delGwc:function(){this.$store.commit("qkgwc")}},mounted:function(){var t=this,s=this.$route.query.img;this.shopimg=s;var a=this.$route.query.id;this.$http.get("http://elm.cangdu.org/shopping/v2/menu?restaurant_id="+a).then(function(s){t.goods_left=s.data,t.$nextTick(function(){t._countHight()})}),this.$http.get("http://elm.cangdu.org/shopping/restaurant/"+a+"?latitude=22.96286&longitude=113.28904&extras[]=activities&extras[]=album&extras[]=license&extras[]=identification&extras[]=statistics").then(function(s){t.header=s.data}),this.$refs.navright.addEventListener("scroll",this._scrollHight)},computed:{gwc:function(){return this.$store.state.gwc},sum:function(){return this.$store.getters.sum},jiage:function(){return this.$store.getters.jiage}}},o=c,r=(a("6b41"),a("6691")),l=Object(r["a"])(o,i,n,!1,null,"5bf969e7",null);s["default"]=l.exports},"6b41":function(t,s,a){"use strict";var i=a("72c6"),n=a.n(i);n.a},"72c6":function(t,s,a){},a002:function(t,s,a){}}]);
//# sourceMappingURL=Shop.3d16e15a.js.map